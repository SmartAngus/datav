"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateSchemaSync = exports.validateSchema = exports.createSchema = void 0;
var joi_1 = __importDefault(require("joi"));
var createSchema = function (fn) {
    var schema = fn(joi_1.default);
    if (typeof schema === 'object' && typeof schema.validate !== 'function')
        schema = joi_1.default.object(schema);
    return schema;
};
exports.createSchema = createSchema;
var validateSchema = function (obj, schema, cb) {
    if (!schema)
        cb('schema not found');
    var error = (schema && schema.validate(obj)).error;
    if (error) {
        cb(error.details[0].message);
        process.exit(1);
    }
};
exports.validateSchema = validateSchema;
var validateSchemaSync = function (obj, schema) {
    if (!schema)
        throw new Error('schema not found');
    var error = (schema && schema.validate(obj)).error;
    if (error)
        throw error;
};
exports.validateSchemaSync = validateSchemaSync;
//# sourceMappingURL=validate.js.map